<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>基本的链式调用</title>
    </head>

    <body>
        <canvas id="canvas"></canvas>
        <button onclick="start()">开始</button>
        <button onclick="stop()">暂停</button>
        <button onclick="reset()">重播/重置</button>

        <!-- 获取 animation 动画库 -->
        <script src="https://cdn.jsdelivr.net/gh/wujinbao/animation@v1.0/demo/animationItem.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/wujinbao/animation@v1.0/demo/animationManager.js"></script>
<!--         <script src="animationItem.js"></script>
		<script src="animationManager.js"></script> -->
    </body>

    <script>
        let canvas = document.getElementById("canvas")
        let context = canvas.getContext("2d")
        canvas.width = 800 // 画布宽度
        canvas.height = 400 // 画布高度
        
        let rgba = "rgba(255, 255, 255, 0.3)" // 透明度设置，即拖尾效果程度

        let animationParam = [
        	{ // 动画对象为圆形
                animationData: {
                    startX: 100,
                    startY: 50,
                    radius: 25,
                    sAngle: 0,
                    eAngle: 2 * Math.PI,
                    counterclockwise: false,
                },
                animationType: "arc", // 动画类型
                fillStyle: "red", // 填充颜色
                task: [
                    {mx: 2, my: 6, vx: 0.01, vy: -0.06, fr: 200, loop: 1, direction: "twoWay", delay: 500},
                    {mx: 8, my: 1, vx: -0.1, vy: 0.01, fr: 160, loop: 2, direction: "oneWay", continuity: "custom", sx: 700, sy: 50, delay: 1000},
                    {mx: -8, my: 0, vx: -0.2, fr: 40, loop: 2, direction: "oneWay", continuity: "previous", delay: 1500},
                    {mx: 0, my: 5, vy: 0.1, fr: 40, loop: 2, direction: "oneWay", continuity: "previous"},
                    {mx: 7, my: -5, fr: 60, direction: "oneWay", continuity: "previous"}
                ],
                loop: 3,
                delay: 3000
        	},
            { // 动画对象为矩形
                animationData: {
                    startX: 250,
                    startY: 50,
                    width: 50,
                    height: 30,
                },
                animationType: "rect", // 动画类型
                fillStyle: "blue", // 填充颜色
                task: [
                    {mx: 8, my: 1, vx: -0.1, vy: 0.01, fr: 120, loop: 2, direction: "oneWay", sx: 700, sy: 50, delay: 1000},
                ],
                fr: 60,
                loop: 3,
                delay: 3000
            }
        ]

        // 加载动画
        wjb.loadAnimation(animationParam)

        function start() {
            wjb.start()
        } 

        function stop() {
            wjb.stop()
        } 

        function reset() {
            wjb.reset()
        } 
    </script>
</html>